import { useEventListener } from '@vueuse/core';
import { toValue } from 'vue';
import { isFocusingTextControl, isKeyMatched } from '../utils/index.js';
export const useKeys = (hotKeys, action) => {
    const onKeydown = (event) => {
        const hotKeysValue = toValue(hotKeys);
        if (hotKeysValue?.length) {
            if (
            // key matches
            isKeyMatched(event, hotKeysValue) &&
                // event does not come from the search box itself or
                // user isn't focusing (and thus perhaps typing in) a text control
                !isFocusingTextControl(event.target)) {
                event.preventDefault();
                void action();
            }
        }
    };
    useEventListener('keydown', onKeydown);
};
